<div class="container py-3">
  <!-- Título General -->
  <h4 class="text-center mb-3">Dashboard</h4>

  <div class="row">
      <!-- Primera columna: Filtros + Gráfico de Barras -->
      <div class="col-md-6">
          <div class="card shadow-lg p-3">
              <h6 class="text-center mb-2">Asistencias por Años</h6>

              <!-- Formulario ultra compacto -->
              <form (ngSubmit)="onSubmit()">
                  <div class="row g-1 mb-1">
                      <div class="col-4">
                          <label for="estado" class="form-label mb-0 small">Estado:</label>
                          <select id="estado" class="form-select form-select-sm" [(ngModel)]="estadoSeleccionado" name="estado">
                              <option *ngFor="let estado of estados" [value]="estado">{{ estado }}</option>
                          </select>
                      </div>

                      <div class="col-4">
                          <label for="inicio" class="form-label mb-0 small">Inicio:</label>
                          <input id="inicio" type="number" class="form-control form-control-sm" [(ngModel)]="inicio" name="inicio" required>
                      </div>

                      <div class="col-4">
                          <label for="fin" class="form-label mb-0 small">Fin:</label>
                          <input id="fin" type="number" class="form-control form-control-sm" [(ngModel)]="fin" name="fin" required>
                      </div>
                  </div>

                  <div class="row g-1">
                      <div class="col-4 offset-4">
                          <button type="submit" class="btn btn-primary btn-sm w-100">Generar</button>
                      </div>
                  </div>
              </form>

              <!-- Contenedor del gráfico de barras -->
              <div class="mt-2">
                  <h6 class="text-center">Gráfico de Barras</h6>
                  <div id="barChart" class="bg-light border rounded d-flex align-items-center justify-content-center" 
                       style="width: 100%; height: 270px;">
                      <span class="text-muted">[ Aquí va el gráfico de barras ]</span>
                  </div>
              </div>
          </div>
      </div>

    <!-- Segunda columna: Gráfico de Pastel con inputs propios -->
    <div class="col-md-6 d-flex align-items-center justify-content-center">
      <div class="card shadow-lg p-3 w-100">
          <h6 class="text-center mb-2">Porcentaje de Asistencias por Fechas</h6>

          <!-- Formulario para el gráfico de pastel -->
          <form (ngSubmit)="obtenerDatosYGenerarGraficoPie()">
            <div class="row g-1 mb-1">
                <div class="col-6">
                  <label for="inicioPastel" class="form-label mb-0 small">Fecha de Inicio:</label>
                  <input id="inicioPastel" type="date" class="form-control form-control-sm"
                         [(ngModel)]="inicioPastel" name="inicioPastel" required>
                </div>
              
                <div class="col-6">
                  <label for="finPastel" class="form-label mb-0 small">Fecha de Fin:</label>
                  <input id="finPastel" type="date" class="form-control form-control-sm"
                         [(ngModel)]="finPastel" name="finPastel" required>
                </div>
              </div>
              <div class="row g-1">
                  <div class="col-6 offset-3">
                      <button type="submit" class="btn btn-success btn-sm w-100">Generar</button>
                  </div>
              </div>
          </form>

          <!-- Contenedor del Gráfico de Pastel -->
          <div class="mt-2">
              <div id="pieChart" class="bg-light border rounded" style="width: 100%; height: 300px;"></div>
          </div>
      </div>
    </div>   
  </div>
</div>
